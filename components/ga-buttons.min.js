angular.module("ngAmbassador.buttons",["ngClipboard","angularSpinner","ngAmbassador.services"]).config(["ngClipProvider",function(ngClipProvider){ngClipProvider.setPath("bower_components/zeroclipboard/dist/ZeroClipboard.swf")}]).directive("gaButton",["$helper",function($helper){"use strict";return{restrict:"E",transclude:!0,scope:{color:"@",size:"@",loading:"=",buttonDisabled:"=",buttonClick:"&",buttonName:"@",clipboard:"=",customColor:"=",customTextColor:"="},template:function(element,attrs){var clipboardString="",clipboardClass="";return attrs.clipboard&&(clipboardString='clip-copy="clipboard"',clipboardClass="btn-clipboard"),'<button ng-mouseover="setButtonStyle(true)" ng-mouseleave="setButtonStyle(false)" ng-style="buttonStyle" class="btn btn-{{color}} {{btnSize}} '+clipboardClass+'" '+clipboardString+' ng-disabled="buttonDisabled || loadingDisabled" ng-click="buttonClick({button: buttonName}); setButtonStyle();"><span ng-class="{ loading: loading }" ng-transclude></span><span ng-show="loading" class="btn-spinner" us-spinner="btnSpinner"></span></button>'},link:function(scope){switch(scope.btnClick=null,scope.loadingDisabled=!1,scope.btnSize="",scope.btnSpinner={},scope.size){case"sm":scope.btnSpinner={radius:4,width:3,length:4,lines:9};break;case"md":scope.btnSpinner={radius:5,width:3,length:4,lines:10};break;case"lg":scope.btnSpinner={radius:9,width:5,length:5,lines:11}}switch(scope.color){case"primary":case"gray":case"danger":scope.btnSpinner.color="#ffffff";break;case"default":scope.btnSpinner.color="#666666"}scope.setButtonStyle=function(hover){scope.buttonStyle={},scope.customColor&&(hover?(scope.buttonStyle["background-color"]=$helper.colorLuminance(scope.customColor,-.1),scope.buttonStyle["border-color"]=$helper.colorLuminance(scope.customColor,-.1)):(scope.buttonStyle["background-color"]=scope.customColor,scope.buttonStyle["border-color"]=scope.customColor),scope.customTextColor&&(scope.buttonStyle.color=scope.customTextColor,scope.btnSpinner.color=scope.customTextColor))},scope.$watch("customTextColor+customColor",function(){scope.setButtonStyle(!1)}),scope.$watch("loading",function(loading){scope.loadingDisabled=loading?!0:!1}),"md"!==scope.size&&(scope.btnSize="btn-"+scope.size)}}}]);