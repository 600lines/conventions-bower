angular.module("ngAmbassador.file",["ngFileUpload","ngAmbassador.api"]).factory("$file",["Upload","$api",function(Upload,$api){var $file={};return $file.download=function(url){var hiddenIFrameID="ga-download",iframe=document.getElementById(hiddenIFrameID);null===iframe&&(iframe=document.createElement("iframe"),iframe.id=hiddenIFrameID,iframe.style.display="none",document.body.appendChild(iframe)),iframe.src=url},$file.upload=function(config){return _.isUndefined(config.headers)?config.headers={Authorization:"Token "+$api.use("default").getToken()}:config.headers.Authorization="Token "+$api.use("default").getToken(),Upload.upload(config)},$file}]);